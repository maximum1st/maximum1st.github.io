<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>レーシングサスペンション計算</title>
    <style>
        .form-container {
            display: flex;
            flex-direction: column;
        }
        </style>
    <script>
        function calculateSuspension() {
            const engineWeight = getEngineWeight();
            const frontWeight = parseFloat(document.getElementById("frontWeight").value);
            const rearWeight = parseFloat(document.getElementById("rearWeight").value);
            const frontSpringFreq = parseFloat(document.getElementById("frontSpringFreq").value);
            const rearSpringFreq = parseFloat(document.getElementById("rearSpringFreq").value);
            const frontCurrentHeight = parseFloat(document.getElementById("frontCurrentHeight").value);
            const rearCurrentHeight = parseFloat(document.getElementById("rearCurrentHeight").value);
            const frontMinHeight = parseFloat(document.getElementById("frontMinHeight").value);
            const frontMaxHeight = parseFloat(document.getElementById("frontMaxHeight").value);
            const rearMinHeight = parseFloat(document.getElementById("rearMinHeight").value);
            const rearMaxHeight = parseFloat(document.getElementById("rearMaxHeight").value);

            const nurburgringFactor = 0.8;
            const tsukubaFactor = 0.9;

            const frontSpringRate = (Math.pow((frontSpringFreq * 2 * Math.PI), 2)) * (frontWeight + engineWeight);
            const rearSpringRate = (Math.pow((rearSpringFreq * 2 * Math.PI), 2)) * (rearWeight + engineWeight);

            const frontOptimalHeight = (frontMinHeight + frontMaxHeight) / 2;
            const rearOptimalHeight = (rearMinHeight + rearMaxHeight) / 2;

            const frontOptimalHeightNurburgring = Math.max(frontCurrentHeight * nurburgringFactor, frontMinHeight);
            const rearOptimalHeightNurburgring = Math.max(rearCurrentHeight * nurburgringFactor, rearMinHeight);

            const frontOptimalHeightTsukuba = Math.max(frontCurrentHeight * tsukubaFactor, frontMinHeight);
            const rearOptimalHeightTsukuba = Math.max(rearCurrentHeight * tsukubaFactor, rearMinHeight);

            document.getElementById("frontSpringRate").innerText = frontSpringRate.toFixed(2);
            document.getElementById("rearSpringRate").innerText = rearSpringRate.toFixed(2);
            document.getElementById("frontOptimalHeightStreet").innerText = frontOptimalHeight.toFixed(2);
            document.getElementById("rearOptimalHeightStreet").innerText = rearOptimalHeight.toFixed(2);
            document.getElementById("frontOptimalHeightNurburgring").innerText = frontOptimalHeightNurburgring.toFixed(2);
            document.getElementById("rearOptimalHeightNurburgring").innerText = rearOptimalHeightNurburgring.toFixed(2);
            document.getElementById("frontOptimalHeightTsukuba").innerText = frontOptimalHeightTsukuba.toFixed(2);
            document.getElementById("rearOptimalHeightTsukuba").innerText = rearOptimalHeightTsukuba.toFixed(2);
        }
        
        function getEngineWeight() {
            const engineModel = document.getElementById("engineModel").value;
            const customWeight = parseFloat(document.getElementById("customWeight").value);
            let weight;

            switch (engineModel) {
                case "small_4cyl":
                    weight = 100;
                    break;
                case "mid_4cyl":
                    weight = 150;
                    break;
                
                case "large_4cyl":
                    weight = 200;
                    break;
                case "small_6cyl":
                    weight = 250;
                    break;
                case "mid_6cyl":
                    weight = 300;
                    break;
                case "large_6cyl":
                    weight = 350;
                    break;
                case "small_v4":
                    weight = 180;
                    break;
                case "mid_v4":
                    weight = 220;
                    break;
                case "large_v4":
                    weight = 260;
                    break;
                case "small_v6":
                    weight = 270;
                    break;
                case "mid_v6":
                    weight = 320;
                    break;
                case "large_v6":
                    weight = 370;
                    break;
                case "small_8cyl":
                    weight = 400;
                    break;
                case "mid_8cyl":
                    weight = 450;
                    break;
                case "large_8cyl":
                    weight = 500;
                    break;
                case "small_v12":
                    weight = 550;
                    break;
                case "mid_v12":
                    weight = 600;
                    break;
                case "large_v12":
                    weight = 650;
                    break;
                default:
                    weight = 0;
            }

            if (customWeight > 0) {
                weight = customWeight;
            }

            return weight;
        }
    </script>
</head>
<body>
    <h1>レーシングサスペンション計算</h1>
    <div>
        <label>エンジンモデル: <select id="engineModel">
            <option value="small_4cyl">小型4気筒</option>
            <option value="mid_4cyl">中型4気筒</option>
            <option value="large_4cyl">大型4気筒</option>
            <option value="small_6cyl">小型6気筒</option>
            <option value="mid_6cyl">中型6気筒</option>
            <option value="large_6cyl">大型6気筒</option>
            <option value="small_v4">小型V4</option>
            <option value="mid_v4">中型V4</option>
            <option value="large_v4">大型V4</option>
            <option value="small_v6">小型V6</option>
            <option value="mid_v6">中型V6</option>
            <option value="large_v6">大型V6</option>
            <option value="small_8cyl">小型8気筒</option>
            <option value="mid_8cyl">中型8気筒</option>
            <option value="large_8cyl">大型8気筒</option>
            <option value="small_v12">小型V12</option>
            <option value="mid_v12">中型V12</option>
            <option value="large_v12">大型V12</option>
        </select></label><br>
        <label>カスタムエンジン重量 (kg) (オプション): <input type="number" id="customWeight" value="0"></label><br>
    </div>
    <div>
            <!-- フロント用フォーム -->
            <h2>フロントサスペンション情報</h2>
            <label>フロント重量 (kg): <input type="number" id="frontWeight" value="0"></label><br>
            <label>フロントスプリング周波数 (Hz): <input type="number" id="frontSpringFreq" value="0"></label><br>
            <label>フロント現在の車高 (mm): <input type="number" id="frontCurrentHeight" value="0"></label><br>
            <label>フロント最低車高 (mm): <input type="number" id="frontMinHeight" value="0"></label><br>
            <label>フロント最高車高 (mm): <input type="number" id="frontMaxHeight" value="0"></label><br>
        </div>
        <div>
            <!-- リア用フォーム -->
            <h2>リアサスペンション情報</h2>
            <label>リア重量 (kg): <input type="number" id="rearWeight" value="0"></label><br>
            <label>リアスプリング周波数 (Hz): <input type="number" id="rearSpringFreq" value="0"></label><br>
            <label>リア現在の車高 (mm): <input type="number" id="rearCurrentHeight" value="0"></label><br>
            <label>リア最低車高 (mm): <input type="number" id="rearMinHeight" value="0"></label><br>
            <label>リア最高車高 (mm): <input type="number" id="rearMaxHeight" value="0"></label><br>
        </div>
    </div>
    <button onclick="calculateSuspension()">計算</button>
    <div>
        <h2>計算結果</h2>
        <p>フロントスプリングレート: <span id="frontSpringRate">0</span> N/m</p>
        <p>リアスプリングレート: <span id="rearSpringRate">0</span> N/m</p>
        <p>フロント最適車高 (通常): <span id="frontOptimalHeightStreet">0</span> mm</p>
        <p>リア最適車高 (通常): <span id="rearOptimalHeightStreet">0</span> mm</p>
        <p>フロント最適車高 (ニュルブルクリンク): <span id="frontOptimalHeightNurburgring">0</span> mm</p>
        <p>リア最適車高 (ニュルブルクリンク): <span id="rearOptimalHeightNurburgring">0</span> mm</p>
        <p>フロント最適車高 (筑波サーキット): <span id="frontOptimalHeightTsukuba">0</span> mm</p>
        <p>リア最適車高 (筑波サーキット): <span id="rearOptimalHeightTsukuba">0</span> mm</p>
    </div>
</body>
</html>




    
